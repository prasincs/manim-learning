[build]
  # The directory that contains the deploy-ready HTML files and assets
  publish = "public"

  # No build command - GitHub Actions handles the build and deployment
  # The GIFs are rendered in Docker via GitHub Actions workflow
  command = "echo 'Deployed via GitHub Actions - no build needed'"

[build.environment]
  # Build is handled by GitHub Actions with Docker + LaTeX
  # This file is kept for Netlify configuration (headers, redirects, etc.)

[[headers]]
  # Cache the GIF files for faster loading
  for = "/*.gif"
  [headers.values]
    Cache-Control = "public, max-age=604800, must-revalidate"

[[headers]]
  # Cache CSS and JS files
  for = "/*.css"
  [headers.values]
    Cache-Control = "public, max-age=604800"

[[headers]]
  for = "/*.js"
  [headers.values]
    Cache-Control = "public, max-age=604800"

[[redirects]]
  # Redirect root to index.html
  from = "/"
  to = "/index.html"
  status = 200

# Build plugin to check file sizes
[[plugins]]
  package = "@netlify/plugin-lighthouse"

  # Lighthouse plugin configuration (optional)
  [plugins.inputs]
    output_path = "reports/lighthouse.html"
